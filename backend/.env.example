# ============================================
# FlashMind Backend - Environment Variables
# ============================================
# Copy this file to .env and update with your actual values
# NEVER commit .env to version control!

# ============================================
# APPLICATION SETTINGS
# ============================================
NODE_ENV=development
PORT=5000

# Base URL for the frontend (used in password reset emails, CORS, etc.)
FRONTEND_URL=http://localhost:3000

# ============================================
# DATABASE CONFIGURATION
# ============================================
# For PostgreSQL (recommended for production):
DB_DIALECT=postgres
DB_HOST=localhost
DB_PORT=5432
DB_NAME=flashmind_db
DB_USER=postgres
DB_PASSWORD=your_secure_password_here

# For SQLite (development/testing only):
# DB_DIALECT=sqlite
# DB_STORAGE=./database.sqlite

# ============================================
# JWT AUTHENTICATION
# ============================================
# CRITICAL: Change this to a strong random string in production!
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production

# JWT token expiration time (default: 7 days)
JWT_EXPIRE=7d

# ============================================
# EMAIL CONFIGURATION
# ============================================
# Email sender address
EMAIL_FROM=noreply@flashmind.com

# SMTP Configuration for Production
# Option 1: Gmail (not recommended for production)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=your_email@gmail.com
# SMTP_PASS=your_app_specific_password

# Option 2: SendGrid (recommended - free tier: 100 emails/day)
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=apikey
# SMTP_PASS=your_sendgrid_api_key

# Option 3: AWS SES (scalable - $0.10 per 1,000 emails)
# SMTP_HOST=email-smtp.us-east-1.amazonaws.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=your_aws_ses_smtp_username
# SMTP_PASS=your_aws_ses_smtp_password

# For Development: Use Mailhog or similar local mail server
# (Leave SMTP settings empty for console logging in development)

# ============================================
# SECURITY & RATE LIMITING
# ============================================
# Rate limiting is configured in middleware/rateLimiter.js
# No additional environment variables needed
# Current limits:
# - Login: 5 attempts per 15 minutes per IP
# - Register: 10 attempts per hour per IP
# - General API: 100 requests per 15 minutes per IP

# ============================================
# OPTIONAL FEATURES
# ============================================
# Session secret (if using express-session)
# SESSION_SECRET=your_session_secret_here

# File upload limits (in MB)
# MAX_FILE_SIZE=5

# ============================================
# CORS CONFIGURATION
# ============================================
# Allowed origins for CORS (comma-separated list)
# If not set, defaults to: http://localhost:3000,http://localhost:3001,http://127.0.0.1:3000,FRONTEND_URL
# In production, set this to your actual frontend domain(s)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001
# Production example:
# ALLOWED_ORIGINS=https://flashmind.com,https://www.flashmind.com

# ============================================
# LOGGING & MONITORING
# ============================================
# Log level: error, warn, info, debug
LOG_LEVEL=info

# Enable SQL query logging (useful for debugging)
DB_LOGGING=false

# ============================================
# PRODUCTION CHECKLIST
# ============================================
# Before deploying to production, ensure you:
# 1. Set NODE_ENV=production
# 2. Generate a strong JWT_SECRET (use crypto.randomBytes)
# 3. Configure production database (PostgreSQL recommended)
# 4. Set up SMTP for email sending (SendGrid, AWS SES, etc.)
# 5. Update FRONTEND_URL to your actual domain
# 6. Set DB_LOGGING=false
# 7. Review and adjust rate limiting settings if needed
# 8. Enable HTTPS/SSL on your server
# 9. Set up proper backup strategies for database
# 10. Configure environment-specific CORS origins
